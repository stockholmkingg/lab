# Системы контроля версий и CI/CD
## Задание truffleHog
#### Порядок выполнения:
1. Поскольку нам нужен Python, да ещё и с установленным менеджером пакетов <code>Pip</code>, то логично найти уже настроенный образ Python.
2. В Docker Hub есть три ключевых группы образов: <code>windowsservercore</code> (нам не подходит), <code>buster</code> (на базе Debian Buster) и <code>alpine</code> (на базе Alpine). Мы будем использовать <code>buster</code>, поскольку он содержит уже привычный вам менеджер <code>apt</code> и всё остальное.
3. <code>docker run -it -p 8080:8080 python:buster /bin/bash</code>. Скоро узнаем зачем нам открывать порт.
4. После того как вы попали в терминал контейнера, необходимо установить truffleHog: <code>pip install truffleHog</code>. При этом обратите внимание на регистр.
5. Далее всё достаточно просто: указываем инструменту ссылку или путь к репозиторию. В нашем случае мы воспользуемся специально подготовленным: https://github.com/netology-code/ib-secrets.
    Переходим по ссылке и кликаем на кнопке <code>Code</code>:
6. Используйте следующую команду для запуска сканирования:
    ```
    trufflehog https://github.com/netology-code/ib-secrets.git | tee -a log.txt
    ```
7. Конечно, вы можете поставить с помощью <code>apt</code> или <code>apt update</code> какой-нибудь текстовый редактор и проанализировать <code>log.txt</code>. Но давайте посмотрим, как забрать файл из контейнера.

    В Python есть встроенный модуль HTTP-сервера, который запускает HTTP-сервер в текущем рабочем каталоге: <code>python -m http.server 8080</code>:
#### Результаты выполнения:
Отправьте найденные вами секреты с описанием того, чтобы это могло быть по вашему мнению.

#### Секреты:
1) В сформированном отчете были найдены <code>private.key</code>, <code>public.key</code> и <code>symmetric.key</code> в двух коммитах.

2) Предполагаю, что были скомпрометированы ключи шифрования после работы <code>OpenSSL</code>.

3) Были обнаружены хеши паролей пользователей <code>User</code> и <code>Admin</code>.

---

## Задание BFG Repo-Cleaner
Для удаления «чувствительных данных» существуют специальные инструменты. Самые простые:

- BFG Repo-Cleaner.
- Встроенная в <code>git</code> команда <code>filter-branch</code>.
#### Порядок выполнения:
Разработчики уверяют, что вычистили все найденные вами в предыдущем задании секреты из истории с помощью BFG Repo-Cleaner. Убедитесь, так ли это.

Для этого используйте следующий репозиторий: https://github.com/netology-code/ib-secrets-fixed.git.

Результаты выполнения:
Отправьте общее заключение в свободной форме о выполнении разработчиками задачи по вычистке репозитория.

#### Заключение:
Разработчики частично выполнили задачу по “вычистке” репозитория. Были удалены файлы <code>private.key</code>, <code>public.key</code>, <code>symmetric.key</code>, но всё ещё остались хеши паролей пользователей User и Admin.
